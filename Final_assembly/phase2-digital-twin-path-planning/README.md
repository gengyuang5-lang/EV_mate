# 阶段 2：数字孪生与路径规划

## 项目概述

本阶段主要实现建筑数字孪生模型的搭建和智能路径规划系统，为火灾逃生提供精准的导航支持。

## 功能模块

### 1. 建筑数字孪生模型

#### 功能描述
通过 CAD 图纸导入 + 现场扫描，快速还原试点建筑的楼层结构、逃生通道、安全出口。

#### 技术要求
- 无需精细纹理，重点保证通道准确性
- 支持多楼层结构
- 准确标记逃生通道和安全出口位置
- 支持实时更新和同步

#### 文件结构
```
digital-twin/
├── cad-importer/          # CAD图纸导入模块
├── scan-processor/        # 现场扫描数据处理
├── model-builder/         # 建筑模型构建
└── channel-mapper/        # 通道映射与验证
```

### 2. AI 路径规划模块

#### 2.1 基础路径规划

**功能描述：**
- 火点触发后，AI Agent 自动避开火点蔓延区域、拥堵路段
- 生成动态橙色引导路径（每 500 毫秒更新一次）
- 实时响应环境变化

**核心算法：**
- A* 路径搜索算法
- 动态障碍物避让
- 实时路径优化

#### 2.2 弱势群体适配

**功能描述：**
- 新增 "老人 / 儿童 / 残障人士" 模式
- 路径优先选择无障碍通道
- 避开陡坡 / 窄道
- 引导速度降低 30%
- 同步推送 "需要协助" 的信号给管理后台

**适配策略：**
- 无障碍通道优先级提升
- 路径难度评估（坡度、宽度）
- 动态速度调整
- 紧急协助信号推送

#### 文件结构
```
path-planning/
├── core/                  # 核心路径规划算法
├── agent/                 # AI Agent 实现
├── dynamic-updater/       # 动态路径更新（500ms）
├── vulnerable-group/      # 弱势群体适配模块
└── obstacle-avoidance/    # 障碍物避让逻辑
```

## 测试目标

### 性能指标
- **路径规划响应时间**：< 1 秒
- **动态调整准确率**：> 90%
- **弱势群体路径适配**：符合建筑无障碍设计标准

### 测试内容
1. 响应时间测试
2. 路径准确性测试
3. 动态调整测试
4. 无障碍标准合规性测试

## 技术栈

- **数字孪生**：Three.js / Unity / Unreal Engine
- **路径规划**：Python / JavaScript (Node.js)
- **AI算法**：A*、Dijkstra、强化学习
- **实时通信**：WebSocket / MQTT

## 开发计划

1. **Week 1-2**：数字孪生模型搭建
2. **Week 3-4**：基础路径规划实现
3. **Week 5-6**：弱势群体适配开发
4. **Week 7-8**：测试与优化

## 依赖关系

- 阶段 1：火灾报警系统（获取火点位置和蔓延信息）
- 后端服务：管理后台（接收协助信号）

## 使用说明

详细的使用说明和 API 文档请参考各子模块的 README 文件。

